<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Balance and decarbonise your power grid in this educational card game about sustainable energy management.">
    <title>POWER FLEX - Grid Balancing Game</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="game-container">
        <header class="top-bar">
            <div class="title-section">
                <h1>‚ö° POWER FLEX</h1>
                <span class="subtitle">Balance and decarbonise your power grid</span>
            </div>
            
            <section class="balance-section" aria-label="Grid Balance Display">
                <div class="balance-display">
                    <div class="balance-item">
                        <span class="label">Night</span>
                        <span class="value" id="night-total">0</span>
                        <span class="new-value" id="night-new"></span>
                    </div>
                    <div class="balance-item">
                        <span class="label">Day</span>
                        <span class="value" id="day-total">0</span>
                        <span class="new-value" id="day-new"></span>
                    </div>
                    <div class="balance-item">
                        <span class="label">Eve</span>
                        <span class="value" id="eve-total">0</span>
                        <span class="new-value" id="eve-new"></span>
                    </div>
                    <div class="balance-item">
                        <span class="label">Flex</span>
                        <span class="value" id="flex-total">0</span>
                        <span class="new-value" id="flex-new"></span>
                    </div>
                </div>
            </section>
            
            <div class="controls-section">
                <button id="new-game-btn" class="btn">New Game</button>
            </div>
        </header>

        <main class="game-content">
            <div class="play-areas-row">
                <section class="generators-section" aria-label="Generator Grid">
                    <h3>‚ö° GENERATORS ‚ö°</h3>
                    <div class="generator-slots">
                        <div class="card-slot generator-slot" data-slot="0"></div>
                        <div class="card-slot generator-slot" data-slot="1"></div>
                        <div class="card-slot generator-slot" data-slot="2"></div>
                        <div class="card-slot generator-slot" data-slot="3"></div>
                        <div class="card-slot generator-slot" data-slot="4"></div>
                        <div class="card-slot generator-slot" data-slot="5"></div>
                        <div class="card-slot generator-slot" data-slot="6"></div>
                        <div class="card-slot generator-slot" data-slot="7"></div>
                    </div>
                </section>
                <section class="consumers-section" aria-label="Consumer Grid">
                    <h3>üè† CONSUMERS üè†</h3>
                    <div class="consumer-slots">
                        <div class="card-slot consumer-slot" data-slot="0"></div>
                        <div class="card-slot consumer-slot" data-slot="1"></div>
                        <div class="card-slot consumer-slot" data-slot="2"></div>
                        <div class="card-slot consumer-slot" data-slot="3"></div>
                        <div class="card-slot consumer-slot" data-slot="4"></div>
                        <div class="card-slot consumer-slot" data-slot="5"></div>
                        <div class="card-slot consumer-slot" data-slot="6"></div>
                        <div class="card-slot consumer-slot" data-slot="7"></div>
                    </div>
                </section>
            </div>

            <div class="shops-row">
                <section class="shop-section" aria-label="Generator Shop">
                    <h3>‚ö° NEW GENERATORS ‚ö°</h3>
                    <div class="shop-cards" id="generator-shop" role="group" aria-label="Available Generators"></div>
                </section>
                <section class="shop-section" aria-label="Incentive Shop">
                    <h3>üí° NEW INCENTIVES üí°</h3>
                    <div class="shop-cards" id="incentive-shop" role="group" aria-label="Available Incentives"></div>
                </section>
            </div>
        </main>

        <div class="goal-section">
            <p>üìñ Goal: Replace all fossil generators with clean energy! Click shop cards to place them, keep all values positive.</p>
        </div>

        <div class="attribution-section">
            <p>Based on the card game by Dr Sage Ralph and Jane Reed for SSEN at <a href="https://hackpompey.co.uk/" target="_blank" rel="noopener noreferrer">Hack Pompey</a> Watt-Works 2025</p>
            <a href="https://github.com/SageRalph/Power-Flex" target="_blank" rel="noopener noreferrer">GitHub Repository</a>
        </div>

    </div>

    <div id="win-modal" class="modal hidden">
        <div class="modal-content">
            <h2>üéâ CONGRATULATIONS! üéâ</h2>
            <p>You have successfully decarbonised your power grid!</p>
            <p>All fossil fuel generators have been replaced with clean energy.</p>
            <div class="score-display">
                <h3>Your Score: <span id="final-score">0</span> turns</h3>
                <p class="score-subtitle">(Lower is better!)</p>
            </div>
            <button id="play-again-btn" class="btn">Play Again</button>
        </div>
    </div>



    <script src="script.js"></script>
</body>
</html>